{% extends 'base.html.twig' %}

{% block title %}Hello SubmitAnnouncementController!{% endblock %}

{% block body %}

<div class="parallax titlebar" data-background="{{ asset('images/listings-parallax.jpg') }}" data-color="rgba(48, 48, 48, 1)"
	data-color-opacity="0.8" data-img-width="800" data-img-height="505">
	<div id="titlebar">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<h2>Add New Property</h2>
					<!-- Breadcrumbs -->
					<nav id="breadcrumbs">
						<ul>
							<li><a href="index.html">Home</a></li>
							<li>Add New Property</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="container">
	<div class="row">
		{% include 'users/_partial/menu.html.twig' %}
		{{ form_start(form) }}
		<div class="col-md-9">
			<div class="submit-page">
				<!-- Section -->
				<div class="utf-submit-page-inner-box">
					<h3>Property Basic Information</h3>
					<div class="content with-padding">

						<div class="col-md-6">
							<h5>Titre de votre promotion</h5>
							{{ form_widget(form.Title) }}
						</div>
						<div class="col-md-6">
							<h5>Proposez vous un rabais %</h5>
							{{ form_widget(form.Discount) }}
						</div>
						<div class="col-md-6">
							<h5>petite description</h5>
							{{ form_widget(form.ShortDescription) }}
							<span id="characters"
								style="color:#999;color: #999;position: absolute;bottom: 15px;right: 55px;">0</span>
							<span style="color:#999;color: #999;position: absolute;bottom: 15px;right: 30px;">/25</span>
						</div>

						<div class="col-md-6">
							<h5>Grande descriptin</h5>
							{{ form_widget(form.LongDescription) }}
						</div>
					</div>
				</div>
				<!-- Section / End -->

				<!-- Section -->
				<div class="utf-submit-page-inner-box">
					<h3>Gallerie photo</h3>
					<div class="content with-padding">
						<div class="col-md-12 submit-section">
							<div class="dropzone"></div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-12">
						<a href="{{ path('users_submit_announcement_step_2') }}" class="utf-centered-button button">Choisisez vos options</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	{{ form_end(form) }}
</div>
{% endblock %}
{% block javascript %}
	<script>
		$('#submit_announcement_ShortDescription').keyup(updateCount);
		$('#submit_announcement_ShortDescription').keydown(updateCount);

		function updateCount() {
			var cs = [25 + $(this).val().length];
			$('#characters').text(cs);
		}
	</script>
	<script src="{{ asset('scripts/dropzone.js') }}"></script> 
	<script>
        // init,configure dropzone
        Dropzone.autoDiscover = false;
        let dropzone_default = new Dropzone(".dropzone", {
            url: '/users/submit/api' ,
            maxFiles: 6,
            dictMaxFilesExceeded: 'Only 1 Image can be uploaded',
            acceptedFiles: 'image/*',
            maxFilesize: 8,  // in Mb
            addRemoveLinks: true,
            init: function () {
                this.on("maxfilesexceeded", function(file) {
                    this.removeFile(file);
                });
                this.on("sending", function(file, xhr, formData) {
 
                });
                this.on("success", function(file, response) {

                });
            }
        });
    </script>
	
{% endblock %}